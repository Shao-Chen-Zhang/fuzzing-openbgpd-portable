From 0da63ceaadc58905d87ab1e370fe88cd54874073 Mon Sep 17 00:00:00 2001
From: Claudio Jeker <claudio@openbsd.org>
Date: Tue, 5 May 2020 09:13:19 +0200
Subject: [PATCH 5/5] Add placeholders to manual pages

---
 src/usr.sbin/bgpctl/bgpctl.8  | 8 ++++----
 src/usr.sbin/bgpd/bgpd.8      | 8 ++++----
 src/usr.sbin/bgpd/bgpd.conf.5 | 8 +++-----
 3 files changed, 11 insertions(+), 13 deletions(-)

diff --git src/usr.sbin/bgpctl/bgpctl.8 src/usr.sbin/bgpctl/bgpctl.8
index a9e6accdf1..c553937e9b 100644
--- src/usr.sbin/bgpctl/bgpctl.8
+++ src/usr.sbin/bgpctl/bgpctl.8
@@ -49,7 +49,7 @@ Use
 to communicate with
 .Xr bgpd 8
 instead of the default
-.Pa /var/run/bgpd.sock.<rdomain>
+.Pa @RUNSTATEDIR@/bgpd.sock.<rdomain>
 where
 .Ar <rdomain>
 is the routing domain
@@ -458,12 +458,12 @@ in a terse format.
 Show a list of all currently loaded fib routing tables.
 .El
 .Sh FILES
-.Bl -tag -width "/var/run/bgpd.sockXXX" -compact
-.It Pa /etc/bgpd.conf
+.Bl -tag -width "@RUNSTATEDIR@/bgpd.sockXXX" -compact
+.It Pa @SYSCONFDIR@/bgpd.conf
 default
 .Xr bgpd 8
 configuration file
-.It Pa /var/run/bgpd.sock
+.It Pa @RUNSTATEDIR@/bgpd.sock
 default
 .Xr bgpd 8
 control socket
diff --git src/usr.sbin/bgpd/bgpd.8 src/usr.sbin/bgpd/bgpd.8
index 4dac23a64b..5e4a3fbeda 100644
--- src/usr.sbin/bgpd/bgpd.8
+++ src/usr.sbin/bgpd/bgpd.8
@@ -197,7 +197,7 @@ Use
 .Ar file
 as the configuration file,
 instead of the default
-.Pa /etc/bgpd.conf .
+.Pa @SYSCONFDIR@/bgpd.conf .
 .It Fl n
 Configtest mode.
 Only check the configuration file for validity.
@@ -207,12 +207,12 @@ Produce more verbose output.
 Show the version and exit.
 .El
 .Sh FILES
-.Bl -tag -width "/var/run/bgpd.sock.<rdomain>" -compact
-.It Pa /etc/bgpd.conf
+.Bl -tag -width "@RUNSTATEDIR@/bgpd.sock.<rdomain>" -compact
+.It Pa @SYSCONFDIR@/bgpd.conf
 Default
 .Nm
 configuration file.
-.It Pa /var/run/bgpd.sock.<rdomain>
+.It Pa @RUNSTATEDIR@/bgpd.sock.<rdomain>
 Default
 .Nm
 control socket, where
diff --git src/usr.sbin/bgpd/bgpd.conf.5 src/usr.sbin/bgpd/bgpd.conf.5
index db797c889b..380cbc731a 100644
--- src/usr.sbin/bgpd/bgpd.conf.5
+++ src/usr.sbin/bgpd/bgpd.conf.5
@@ -382,7 +382,7 @@ If
 .Ic restricted
 is specified a restricted control socket will be created.
 By default
-.Pa /var/run/bgpd.sock.<rdomain>
+.Pa @RUNSTATEDIR@/bgpd.sock.<rdomain>
 is used where
 .Ar <rdomain>
 is the routing domain in which
@@ -2025,12 +2025,10 @@ For prefixes with equally long paths, the prefix with the larger weight
 is selected.
 .El
 .Sh FILES
-.Bl -tag -width "/etc/examples/bgpd.conf" -compact
-.It Pa /etc/bgpd.conf
+.Bl -tag -width "@SYSCONFDIR@/bgpd.conf" -compact
+.It Pa @SYSCONFDIR@/bgpd.conf
 .Xr bgpd 8
 configuration file.
-.It Pa /etc/examples/bgpd.conf
-Example configuration file.
 .El
 .Sh SEE ALSO
 .Xr strftime 3 ,
-- 
2.35.1

